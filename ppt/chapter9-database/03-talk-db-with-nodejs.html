<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Node.jsæ“ä½œæ•°æ®åº“ - AIå…¨æ ˆå¼€å‘è¯¾ç¨‹</title>
		<meta name="description" content="Node.jsä¸æ•°æ®åº“çš„å®Œç¾ç»“åˆ">

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/blood.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../plugin/highlight/monokai.css">
		
		<!-- Font Awesome å›¾æ ‡åº“ -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		
		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆæ ·å¼åº“ - è‡ªåŠ¨å¼•å…¥ï¼Œè®©æ¯ä¸ªé¡µé¢éƒ½æœ‰é­”æ³•ï¼ -->
		<link rel="stylesheet" href="../effect/explose/explosion-effects.css">
        <!-- è‡ªå®šä¹‰æ˜Ÿæ˜Ÿç‰¹æ•ˆæ ·å¼ -->
		<style>
		
			
		
			
		
			
			/* è®©reveal.jsçš„å†…å®¹å±‚çº§æ›´é«˜ */
			.reveal {
				position: relative;
				z-index: 10;
			}
			
			/* æ‘„åƒå¤´çª—å£æ ·å¼ - æˆ‘ä»¬çš„é­”æ³•é•œå­ */
			.camera-container {
				position: fixed;
				bottom: 10px;
				left: 10px;
				width: 200px;
				height: 150px;
				background: #000;
				border: 2px solid #333;
				border-radius: 10px;
				overflow: hidden;
				z-index: 1000;
				transition: all 0.3s ease;
				box-shadow: 0 4px 20px rgba(0,0,0,0.5);
			}
			
			/* æ”¾å¤§çŠ¶æ€çš„æ‘„åƒå¤´çª—å£ */
			.camera-container.enlarged {
				width: 400px;
				height: 300px;
				bottom: 50px;
				left: 50px;
			}
			
			/* æ‘„åƒå¤´è§†é¢‘å…ƒç´  */
			.camera-video {
				width: 100%;
				height: 100%;
				object-fit: cover;
				border-radius: 7px;
				transition: all 0.3s ease;
				/* é»˜è®¤é•œåƒæ•ˆæœ - å°±åƒçœŸæ­£çš„é•œå­ */
				transform: scaleX(-1);
			}
			
			/* å–æ¶ˆé•œåƒæ•ˆæœ */
			.camera-video.no-mirror {
				transform: scaleX(1);
			}
			
			/* æ§åˆ¶æŒ‰é’®å®¹å™¨ - åªåœ¨hoveræ—¶æ˜¾ç¤º */
			.camera-controls {
				position: absolute;
				top: 5px;
				right: 5px;
				display: flex;
				gap: 5px;
				opacity: 0;
				transition: opacity 0.3s ease;
				pointer-events: none;
			}
			
			/* æ‘„åƒå¤´å®¹å™¨è¢«hoveræ—¶æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® */
			.camera-container:hover .camera-controls {
				opacity: 1;
				pointer-events: auto;
			}
			
			/* æ§åˆ¶æŒ‰é’®æ ·å¼ */
			.control-btn {
				width: 25px;
				height: 25px;
				background: rgba(0,0,0,0.7);
				border: none;
				border-radius: 50%;
				color: white;
				cursor: pointer;
				font-size: 12px;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.2s;
			}
			
			.control-btn:hover {
				background: rgba(0,0,0,0.9);
				transform: scale(1.1);
			}
			
			/* æ¿€æ´»çŠ¶æ€çš„æŒ‰é’® */
			.control-btn.active {
				background: #4CAF50;
			}
			
			/* éšè—çŠ¶æ€ */
			.camera-container.hidden {
				display: none;
			}
			
			/* å¯åŠ¨æ‘„åƒå¤´çš„æŒ‰é’® */
			.start-camera-btn {
				position: fixed;
				bottom: 20px;
				left: 20px;
				padding: 10px 15px;
				/* background: #4CAF50; */
				/* color: white; */
				border: none;
				border-radius: 5px;
				cursor: pointer;
				z-index: 1000;
				font-size: 14px;
				transition: background 0.3s;
			}
			
			/* .start-camera-btn:hover {
				background: #45a049;
			} */
			
			.start-camera-btn.hidden {
				display: none;
			}
			
			/* è¿”å›é¦–é¡µæŒ‰é’® */
			.back-home-btn {
				position: fixed;
				top: 20px;
				left: 20px;
				padding: 8px 12px;
				background: rgba(0,0,0,0.7);
				color: white;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				z-index: 1001;
				font-size: 14px;
				text-decoration: none;
				display: flex;
				align-items: center;
				gap: 5px;
				transition: all 0.3s ease;
				backdrop-filter: blur(10px);
			}
			
			.back-home-btn:hover {
				background: rgba(0,0,0,0.9);
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0,0,0,0.3);
			}
		</style>
	</head>
	<body>

		<!-- è¿”å›é¦–é¡µæŒ‰é’® -->
		<a href="/ppt/index.html" class="back-home-btn">
			ğŸ 
		</a>

        	<!-- å¯åŠ¨æ‘„åƒå¤´æŒ‰é’® -->
		<button class="start-camera-btn" id="startCameraBtn">ğŸ“·</button>
		
		<!-- æ‘„åƒå¤´çª—å£ - æˆ‘ä»¬çš„é­”æ³•é•œå­ -->
		<div class="camera-container hidden" id="cameraContainer">
			<video class="camera-video" id="cameraVideo" autoplay muted></video>
			<div class="camera-controls">
				<button class="control-btn" id="enlargeBtn" title="æ”¾å¤§/ç¼©å°">â›¶</button>
				<button class="control-btn active" id="mirrorBtn" title="å–æ¶ˆé•œåƒ">ğŸª</button>
				<button class="control-btn" id="closeBtn" title="å…³é—­æ‘„åƒå¤´">âœ•</button>
			</div>
		</div>
		
		<div class="reveal">
			<div class="slides"> 
    <section>
        <h2>Node.jsæ“ä½œæ•°æ®åº“</h2>
        <h3>è®©ç¨‹åºå’Œæ•°æ®åº“å¯¹è¯</h3>
        <p>
            <small>è®²å¸ˆï¼šnathan</small>
        </p>
        <p><i class="fab fa-node-js"></i> + <i class="fas fa-database"></i> = <i class="fas fa-magic"></i></p>
    </section>

    <section>
        <section>
            <h2>Node.jsä¸ºä»€ä¹ˆè¦æ“ä½œæ•°æ®åº“ï¼Ÿ</h2>
            <p>æƒ³è±¡ä¸€ä¸‹æ²¡æœ‰æ•°æ®åº“çš„ç½‘ç«™... ğŸ˜±</p>
            <ul>
                <li class="fragment">ç”¨æˆ·æ³¨å†Œåï¼Œå…³æœºå°±å¿˜è®°äº†</li>
                <li class="fragment">è´­ç‰©è½¦å•†å“ï¼Œåˆ·æ–°å°±æ²¡äº†</li>
                <li class="fragment">æ–‡ç« å‘å¸ƒäº†ï¼Œé‡å¯å°±æ¶ˆå¤±</li>
                <li class="fragment">è¿™æ ·çš„ç½‘ç«™è¿˜æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li>
            </ul>
        </section>
        
        <section>
            <h3>æ•°æ®åº“æ˜¯ç¨‹åºçš„"è®°å¿†"</h3>
            <p>Node.js + æ•°æ®åº“ = æœ‰è®°å¿†çš„æ™ºèƒ½ç¨‹åº</p>
            <ul>
                <li><i class="fas fa-save"></i> <strong>æŒä¹…åŒ–å­˜å‚¨</strong> - æ•°æ®æ°¸è¿œä¸ä¸¢å¤±</li>
                <li><i class="fas fa-sync"></i> <strong>å®æ—¶äº¤äº’</strong> - éšæ—¶è¯»å–å’Œæ›´æ–°</li>
                <li><i class="fas fa-users"></i> <strong>å¤šç”¨æˆ·å…±äº«</strong> - å¤§å®¶çœ‹åˆ°åŒæ ·çš„æ•°æ®</li>
                <li><i class="fas fa-chart-line"></i> <strong>æ•°æ®åˆ†æ</strong> - äº†è§£ç”¨æˆ·è¡Œä¸º</li>
            </ul>
        </section>
    </section>

    <section>
        <section>
            <h2>æœ€ç®€å•çš„æ•°æ®åº“åŒ… - sqlite3</h2>
            <p>æ–°æ‰‹ç¨‹åºå‘˜çš„å¥½æœ‹å‹ ğŸ¤</p>
        </section>
        
        <section>
            <h3>ä¸ºä»€ä¹ˆé€‰æ‹© sqlite3ï¼Ÿ</h3>
            <p>å°±åƒå­¦è‡ªè¡Œè½¦ï¼Œå…ˆä»æœ€ç®€å•çš„å¼€å§‹</p>
            <ul>
                <li class="fragment"><i class="fas fa-feather"></i> <strong>è½»é‡çº§</strong> - åªæ˜¯ä¸€ä¸ªæ–‡ä»¶</li>
                <li class="fragment"><i class="fas fa-plug"></i> <strong>å…å®‰è£…</strong> - ä¸éœ€è¦å¯åŠ¨æœåŠ¡å™¨</li>
                <li class="fragment"><i class="fas fa-rocket"></i> <strong>å¿«é€Ÿä¸Šæ‰‹</strong> - å‡ åˆ†é’Ÿå°±èƒ½ç”¨</li>
                <li class="fragment"><i class="fas fa-laptop"></i> <strong>æœ¬åœ°å¼€å‘</strong> - å®Œç¾çš„å­¦ä¹ å·¥å…·</li>
            </ul>
        </section>

        <section>
            <h3>å®‰è£… sqlite3</h3>
            <pre><code class="bash" data-trim>
# å°±åƒå»å•†åº—ä¹°å·¥å…·ä¸€æ ·ç®€å•
npm install sqlite3
            </code></pre>
            <p class="fragment">ä¸€è¡Œå‘½ä»¤ï¼Œæå®šï¼ğŸ‰</p>
        </section>
    </section>

    <section>
        <section>
            <h2>å¦‚ä½•ä½¿ç”¨ sqlite3 åŒ…ï¼Ÿ</h2>
            <p>ä¸‰æ­¥æ›²ï¼šè¿æ¥ â†’ æ“ä½œ â†’ å…³é—­</p>
        </section>
        
        <section>
            <h3>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥å’Œè¿æ¥</h3>
            <pre><code class="javascript" data-trim>
// å¼•å…¥ sqlite3 åŒ…
const sqlite3 = require('sqlite3').verbose();

// è¿æ¥æ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
const db = new sqlite3.Database('myapp.db');

console.log('æ•°æ®åº“è¿æ¥æˆåŠŸï¼');
            </code></pre>
            <p class="fragment"><small>å°±åƒæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æŸœçš„æŠ½å±‰</small></p>
        </section>

        <section>
            <h3>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè¡¨æ ¼</h3>
            <pre><code class="javascript" data-trim>
// åˆ›å»ºç”¨æˆ·è¡¨
db.run(`
    CREATE TABLE IF NOT EXISTS users (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        email TEXT UNIQUE,
        age INTEGER
    )
`);

console.log('ç”¨æˆ·è¡¨åˆ›å»ºæˆåŠŸï¼');
            </code></pre>
            <p class="fragment"><small>æ­å»ºå¥½æ•°æ®çš„"æˆ¿å­æ¡†æ¶"</small></p>
        </section>

        <section>
            <h3>ç¬¬ä¸‰æ­¥ï¼šæ’å…¥æ•°æ®</h3>
            <pre><code class="javascript" data-trim>
// æ’å…¥ä¸€ä¸ªç”¨æˆ·
db.run(
    "INSERT INTO users (name, email, age) VALUES (?, ?, ?)",
    ['å¼ ä¸‰', 'zhangsan@email.com', 25],
    function(err) {
        if (err) {
            console.log('å‡ºé”™äº†:', err.message);
        } else {
            console.log('æ–°ç”¨æˆ·ID:', this.lastID);
        }
    }
);
            </code></pre>
            <p class="fragment"><small>å¾€æ–‡ä»¶æŸœé‡Œæ”¾å…¥æ–°æ¡£æ¡ˆ</small></p>
        </section>
    </section>

    <section>
        <section>
            <h2>å®é™…æ“ä½œæ•°æ®åº“</h2>
            <p>å¢åˆ æ”¹æŸ¥ - æ•°æ®åº“çš„å››å¤§å¤©ç‹ ğŸ‘‘</p>
        </section>
        
        <section>
            <h3>å¢åŠ æ•°æ® (CREATE)</h3>
            <pre><code class="javascript" data-trim>
// æ‰¹é‡æ’å…¥å¤šä¸ªç”¨æˆ·
const users = [
    ['æå››', 'lisi@email.com', 30],
    ['ç‹äº”', 'wangwu@email.com', 28],
    ['èµµå…­', 'zhaoliu@email.com', 35]
];

const stmt = db.prepare("INSERT INTO users (name, email, age) VALUES (?, ?, ?)");

users.forEach(user => {
    stmt.run(user, function(err) {
        if (!err) console.log(`æ·»åŠ ç”¨æˆ·æˆåŠŸï¼ŒID: ${this.lastID}`);
    });
});

stmt.finalize();
            </code></pre>
        </section>

        <section>
            <h3>æŸ¥è¯¢æ•°æ® (READ)</h3>
            <pre><code class="javascript" data-trim>
// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
db.all("SELECT * FROM users", [], (err, rows) => {
    if (err) {
        console.log('æŸ¥è¯¢å‡ºé”™:', err.message);
    } else {
        console.log('æ‰€æœ‰ç”¨æˆ·:');
        rows.forEach(user => {
            console.log(`${user.id}: ${user.name} (${user.age}å²)`);
        });
    }
});

// æŸ¥è¯¢ç‰¹å®šç”¨æˆ·
db.get("SELECT * FROM users WHERE email = ?", ['zhangsan@email.com'], (err, row) => {
    if (row) {
        console.log('æ‰¾åˆ°ç”¨æˆ·:', row.name);
    }
});
            </code></pre>
        </section>

        <section>
            <h3>æ›´æ–°æ•°æ® (UPDATE)</h3>
            <pre><code class="javascript" data-trim>
// æ›´æ–°ç”¨æˆ·å¹´é¾„
db.run(
    "UPDATE users SET age = ? WHERE email = ?",
    [26, 'zhangsan@email.com'],
    function(err) {
        if (err) {
            console.log('æ›´æ–°å¤±è´¥:', err.message);
        } else {
            console.log(`æ›´æ–°äº† ${this.changes} æ¡è®°å½•`);
        }
    }
);
            </code></pre>
            <p class="fragment"><small>å°±åƒä¿®æ”¹æ¡£æ¡ˆé‡Œçš„ä¿¡æ¯</small></p>
        </section>

        <section>
            <h3>åˆ é™¤æ•°æ® (DELETE)</h3>
            <pre><code class="javascript" data-trim>
// åˆ é™¤ç‰¹å®šç”¨æˆ·
db.run(
    "DELETE FROM users WHERE email = ?",
    ['unwanted@email.com'],
    function(err) {
        if (err) {
            console.log('åˆ é™¤å¤±è´¥:', err.message);
        } else {
            console.log(`åˆ é™¤äº† ${this.changes} æ¡è®°å½•`);
        }
    }
);
            </code></pre>
            <p class="fragment"><small>å°å¿ƒä½¿ç”¨ï¼Œåˆ é™¤äº†å°±æ‰¾ä¸å›æ¥äº†ï¼âš ï¸</small></p>
        </section>
    </section>

    <section>
        <section>
            <h2>å®Œæ•´çš„ç¤ºä¾‹ç¨‹åº</h2>
            <p>æŠŠæ‰€æœ‰çŸ¥è¯†ç‚¹ä¸²èµ·æ¥ ğŸ”—</p>
        </section>
        
        <section>
            <h3>å®Œæ•´ä»£ç ç¤ºä¾‹</h3>
            <pre><code class="javascript" data-trim>
const sqlite3 = require('sqlite3').verbose();

// åˆ›å»ºæ•°æ®åº“è¿æ¥
const db = new sqlite3.Database('blog.db');

// åˆ›å»ºæ–‡ç« è¡¨
db.serialize(() => {
    // åˆ›å»ºè¡¨
    db.run(`CREATE TABLE IF NOT EXISTS articles (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        title TEXT NOT NULL,
        content TEXT,
        author TEXT,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    )`);
    
    // æ’å…¥ç¤ºä¾‹æ–‡ç« 
    db.run("INSERT INTO articles (title, content, author) VALUES (?, ?, ?)",
        ['æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢', 'ä»Šå¤©å­¦ä¼šäº†ç”¨Node.jsæ“ä½œæ•°æ®åº“ï¼', 'å¼ ä¸‰']);
    
    // æŸ¥è¯¢æ‰€æœ‰æ–‡ç« 
    db.all("SELECT * FROM articles", [], (err, rows) => {
        if (!err) {
            console.log('åšå®¢æ–‡ç« åˆ—è¡¨:');
            rows.forEach(article => {
                console.log(`- ${article.title} (ä½œè€…: ${article.author})`);
            });
        }
    });
});

// å…³é—­æ•°æ®åº“è¿æ¥
db.close((err) => {
    if (err) console.error(err.message);
    console.log('æ•°æ®åº“è¿æ¥å·²å…³é—­');
});
            </code></pre>
        </section>
    </section>

    <section>
        <section>
            <h2>æœ€ä½³å®è·µå»ºè®®</h2>
            <p>å†™å‡ºæ›´å¥½çš„æ•°æ®åº“ä»£ç  âœ¨</p>
        </section>
        
        <section>
            <h3>å®‰å…¨ç¬¬ä¸€ ğŸ›¡ï¸</h3>
            <ul>
                <li class="fragment"><strong>ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢</strong> - é˜²æ­¢SQLæ³¨å…¥æ”»å‡»</li>
                <li class="fragment"><strong>éªŒè¯è¾“å…¥æ•°æ®</strong> - ä¸è¦ç›¸ä¿¡ç”¨æˆ·è¾“å…¥</li>
                <li class="fragment"><strong>å¤„ç†é”™è¯¯</strong> - ç¨‹åºå´©æºƒä¸æ˜¯å¥½ä½“éªŒ</li>
            </ul>
            <pre class="fragment"><code class="javascript" data-trim>
// âœ… å¥½çš„åšæ³• - ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
db.run("SELECT * FROM users WHERE email = ?", [userEmail]);

// âŒ å±é™©çš„åšæ³• - ç›´æ¥æ‹¼æ¥å­—ç¬¦ä¸²
db.run("SELECT * FROM users WHERE email = '" + userEmail + "'");
            </code></pre>
        </section>

        <section>
            <h3>æ€§èƒ½ä¼˜åŒ– ğŸš€</h3>
            <ul>
                <li><strong>ä½¿ç”¨äº‹åŠ¡</strong> - æ‰¹é‡æ“ä½œæ›´å¿«</li>
                <li><strong>å…³é—­è¿æ¥</strong> - é‡Šæ”¾ç³»ç»Ÿèµ„æº</li>
                <li><strong>ç´¢å¼•ä¼˜åŒ–</strong> - è®©æŸ¥è¯¢é£èµ·æ¥</li>
            </ul>
            <pre class="fragment"><code class="javascript" data-trim>
// ä½¿ç”¨äº‹åŠ¡æ‰¹é‡æ’å…¥
db.serialize(() => {
    db.run("BEGIN TRANSACTION");
    
    users.forEach(user => {
        stmt.run(user);
    });
    
    db.run("COMMIT");
});
            </code></pre>
        </section>
    </section>

    <section>
        <h2>æ€»ç»“å›é¡¾</h2>
        <ul>
            <li><i class="fab fa-node-js"></i> <strong>Node.js + æ•°æ®åº“</strong> - ç¨‹åºæœ‰äº†è®°å¿†</li>
            <li><i class="fas fa-feather"></i> <strong>sqlite3</strong> - æœ€é€‚åˆæ–°æ‰‹çš„æ•°æ®åº“åŒ…</li>
            <li><i class="fas fa-code"></i> <strong>åŸºæœ¬æ“ä½œ</strong> - è¿æ¥ã€åˆ›å»ºã€å¢åˆ æ”¹æŸ¥</li>
            <li><i class="fas fa-shield-alt"></i> <strong>å®‰å…¨å®è·µ</strong> - å‚æ•°åŒ–æŸ¥è¯¢é˜²æ³¨å…¥</li>
            <li><i class="fas fa-rocket"></i> <strong>æ€§èƒ½ä¼˜åŒ–</strong> - äº‹åŠ¡å’Œç´¢å¼•</li>
        </ul>
        <p class="fragment"><strong>æ­å–œï¼ä½ å·²ç»æŒæ¡äº†æ•°æ®åº“ç¼–ç¨‹çš„åŸºç¡€ï¼</strong> ğŸ‰</p>
        <p class="fragment"><small>ä¸‹èŠ‚è¯¾æˆ‘ä»¬å°†å­¦ä¹ æ›´é«˜çº§çš„æ•°æ®åº“æ“ä½œæŠ€å·§</small></p>
    </section>
    			</div>
		</div>

		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆä¾èµ–åº“ - GSAPåŠ¨ç”»å¼•æ“ -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
		
		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆJavaScriptåº“ - é›¶ä»£ç é­”æ³•å±æ€§ç³»ç»Ÿ -->
		<script src="../effect/explose/explosion-effects.js"></script>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
		
			// æ‘„åƒå¤´ç›¸å…³çš„é­”æ³•å‡½æ•°ä»¬
			let cameraStream = null; // å­˜å‚¨æ‘„åƒå¤´æµï¼Œå°±åƒæ˜¯æˆ‘ä»¬çš„è§†é¢‘ç®¡é“
			let isEnlarged = false; // è®°å½•æ˜¯å¦å·²ç»æ”¾å¤§
			let isMirrored = true; // è®°å½•æ˜¯å¦é•œåƒï¼Œé»˜è®¤å¼€å¯
			
			// å¯åŠ¨æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒæ‰“å¼€ä¸€æ‰‡çª—æˆ·
			async function startCamera() {
				try {
					// è¯·æ±‚è®¿é—®æ‘„åƒå¤´ - ç¤¼è²Œåœ°æ•²é—¨
					const stream = await navigator.mediaDevices.getUserMedia({
						video: {
							width: { ideal: 1280 },
							height: { ideal: 720 }
						},
						audio: false // æˆ‘ä»¬åªè¦è§†é¢‘ï¼Œä¸è¦å£°éŸ³
					});
					
					cameraStream = stream;
					const video = document.getElementById('cameraVideo');
					video.srcObject = stream;
					
					// æ˜¾ç¤ºæ‘„åƒå¤´çª—å£ï¼Œéšè—å¯åŠ¨æŒ‰é’®
					document.getElementById('cameraContainer').classList.remove('hidden');
					document.getElementById('startCameraBtn').classList.add('hidden');
					
					console.log('æ‘„åƒå¤´å¯åŠ¨æˆåŠŸï¼é»˜è®¤é•œåƒæ¨¡å¼ï¼Œå°±åƒé­”æ³•ä¸€æ ·ï½');
				} catch (error) {
					console.error('å“å‘€ï¼Œæ‘„åƒå¤´å¯åŠ¨å¤±è´¥äº†ï¼š', error);
					alert('æŠ±æ­‰ï¼Œæ— æ³•è®¿é—®æ‘„åƒå¤´ã€‚å¯èƒ½éœ€è¦æ‚¨å…è®¸ç½‘ç«™ä½¿ç”¨æ‘„åƒå¤´æƒé™å“¦ï¼');
				}
			}
			
			// å…³é—­æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒå…³é—­çª—æˆ·
			function stopCamera() {
				if (cameraStream) {
					// åœæ­¢æ‰€æœ‰çš„è§†é¢‘è½¨é“
					cameraStream.getTracks().forEach(track => track.stop());
					cameraStream = null;
				}
				
				// éšè—æ‘„åƒå¤´çª—å£ï¼Œæ˜¾ç¤ºå¯åŠ¨æŒ‰é’®
				document.getElementById('cameraContainer').classList.add('hidden');
				document.getElementById('startCameraBtn').classList.remove('hidden');
				
				// é‡ç½®æ‰€æœ‰çŠ¶æ€
				isEnlarged = false;
				isMirrored = true; // é‡ç½®ä¸ºé»˜è®¤é•œåƒçŠ¶æ€
				document.getElementById('cameraContainer').classList.remove('enlarged');
				document.getElementById('cameraVideo').classList.remove('no-mirror');
				document.getElementById('mirrorBtn').classList.add('active');
				document.getElementById('mirrorBtn').title = 'å–æ¶ˆé•œåƒ';
				
				console.log('æ‘„åƒå¤´å·²å…³é—­ï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ï¼');
			}
			
			// åˆ‡æ¢æ”¾å¤§/ç¼©å°çš„å‡½æ•° - å°±åƒæ˜¯å˜ç„¦é•œå¤´
			function toggleEnlarge() {
				const container = document.getElementById('cameraContainer');
				isEnlarged = !isEnlarged;
				
				if (isEnlarged) {
					container.classList.add('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'ç¼©å°';
				} else {
					container.classList.remove('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'æ”¾å¤§';
				}
			}
			
			// åˆ‡æ¢é•œåƒæ•ˆæœçš„å‡½æ•° - å°±åƒæ˜¯ç¿»è½¬é•œå­
			function toggleMirror() {
				const video = document.getElementById('cameraVideo');
				const mirrorBtn = document.getElementById('mirrorBtn');
				isMirrored = !isMirrored;
				
				if (isMirrored) {
					video.classList.remove('no-mirror');
					mirrorBtn.classList.add('active');
					mirrorBtn.title = 'å–æ¶ˆé•œåƒ';
					console.log('é•œåƒæ¨¡å¼å¼€å¯ï¼ç°åœ¨å°±åƒç…§é•œå­ä¸€æ ·è‡ªç„¶ï½');
				} else {
					video.classList.add('no-mirror');
					mirrorBtn.classList.remove('active');
					mirrorBtn.title = 'å¼€å¯é•œåƒ';
					console.log('é•œåƒæ¨¡å¼å…³é—­ï¼');
				}
			}
			
			// ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ - å°±åƒæ˜¯ç»™æŒ‰é’®è£…ä¸Šå¼€å…³
			document.addEventListener('DOMContentLoaded', function() {
				// å¯åŠ¨æ‘„åƒå¤´æŒ‰é’®
				document.getElementById('startCameraBtn').addEventListener('click', startCamera);
				
				// å…³é—­æŒ‰é’®
				document.getElementById('closeBtn').addEventListener('click', stopCamera);
				
				// æ”¾å¤§/ç¼©å°æŒ‰é’®
				document.getElementById('enlargeBtn').addEventListener('click', toggleEnlarge);
				
				// é•œåƒæŒ‰é’®
				document.getElementById('mirrorBtn').addEventListener('click', toggleMirror);
			});
			
			// é¡µé¢å…³é—­æ—¶æ¸…ç†æ‘„åƒå¤´èµ„æº - å°±åƒæ˜¯æ•´ç†æˆ¿é—´
			window.addEventListener('beforeunload', function() {
				if (cameraStream) {
					cameraStream.getTracks().forEach(track => track.stop());
				}
			});
			
			// åˆå§‹åŒ–reveal.js
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
			
			
		</script>
	</body>
</html> 