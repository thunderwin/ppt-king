<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>æ•°æ®è¿ç§» - ä»æ–‡ä»¶åˆ°æ•°æ®åº“ - AIå…¨æ ˆå¼€å‘è¯¾ç¨‹</title>
		<meta name="description" content="å®Œæˆåšå®¢ç³»ç»Ÿçš„æœ€åä¸€æ­¥">

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/sky.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../plugin/highlight/monokai.css">
		
		<!-- Font Awesome å›¾æ ‡åº“ -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		
		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆæ ·å¼åº“ - è‡ªåŠ¨å¼•å…¥ï¼Œè®©æ¯ä¸ªé¡µé¢éƒ½æœ‰é­”æ³•ï¼ -->
		<link rel="stylesheet" href="../effect/explose/explosion-effects.css">
        <!-- è‡ªå®šä¹‰æ˜Ÿæ˜Ÿç‰¹æ•ˆæ ·å¼ -->
		<style>
		
			
		
			
		
			
			/* è®©reveal.jsçš„å†…å®¹å±‚çº§æ›´é«˜ */
			.reveal {
				position: relative;
				z-index: 10;
			}
			
			/* æ‘„åƒå¤´çª—å£æ ·å¼ - æˆ‘ä»¬çš„é­”æ³•é•œå­ */
			.camera-container {
				position: fixed;
				bottom: 10px;
				left: 10px;
				width: 200px;
				height: 150px;
				background: #000;
				border: 2px solid #333;
				border-radius: 10px;
				overflow: hidden;
				z-index: 1000;
				transition: all 0.3s ease;
				box-shadow: 0 4px 20px rgba(0,0,0,0.5);
			}
			
			/* æ”¾å¤§çŠ¶æ€çš„æ‘„åƒå¤´çª—å£ */
			.camera-container.enlarged {
				width: 400px;
				height: 300px;
				bottom: 50px;
				left: 50px;
			}
			
			/* æ‘„åƒå¤´è§†é¢‘å…ƒç´  */
			.camera-video {
				width: 100%;
				height: 100%;
				object-fit: cover;
				border-radius: 7px;
				transition: all 0.3s ease;
				/* é»˜è®¤é•œåƒæ•ˆæœ - å°±åƒçœŸæ­£çš„é•œå­ */
				transform: scaleX(-1);
			}
			
			/* å–æ¶ˆé•œåƒæ•ˆæœ */
			.camera-video.no-mirror {
				transform: scaleX(1);
			}
			
			/* æ§åˆ¶æŒ‰é’®å®¹å™¨ - åªåœ¨hoveræ—¶æ˜¾ç¤º */
			.camera-controls {
				position: absolute;
				top: 5px;
				right: 5px;
				display: flex;
				gap: 5px;
				opacity: 0;
				transition: opacity 0.3s ease;
				pointer-events: none;
			}
			
			/* æ‘„åƒå¤´å®¹å™¨è¢«hoveræ—¶æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® */
			.camera-container:hover .camera-controls {
				opacity: 1;
				pointer-events: auto;
			}
			
			/* æ§åˆ¶æŒ‰é’®æ ·å¼ */
			.control-btn {
				width: 25px;
				height: 25px;
				background: rgba(0,0,0,0.7);
				border: none;
				border-radius: 50%;
				color: white;
				cursor: pointer;
				font-size: 12px;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.2s;
			}
			
			.control-btn:hover {
				background: rgba(0,0,0,0.9);
				transform: scale(1.1);
			}
			
			/* æ¿€æ´»çŠ¶æ€çš„æŒ‰é’® */
			.control-btn.active {
				background: #4CAF50;
			}
			
			/* éšè—çŠ¶æ€ */
			.camera-container.hidden {
				display: none;
			}
			
			/* å¯åŠ¨æ‘„åƒå¤´çš„æŒ‰é’® */
			.start-camera-btn {
				position: fixed;
				bottom: 20px;
				left: 20px;
				padding: 10px 15px;
				/* background: #4CAF50; */
				/* color: white; */
				border: none;
				border-radius: 5px;
				cursor: pointer;
				z-index: 1000;
				font-size: 14px;
				transition: background 0.3s;
			}
			
			/* .start-camera-btn:hover {
				background: #45a049;
			} */
			
			.start-camera-btn.hidden {
				display: none;
			}
			
			/* è¿”å›é¦–é¡µæŒ‰é’® */
			.back-home-btn {
				position: fixed;
				top: 20px;
				left: 20px;
				padding: 8px 12px;
				background: rgba(0,0,0,0.7);
				color: white;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				z-index: 1001;
				font-size: 14px;
				text-decoration: none;
				display: flex;
				align-items: center;
				gap: 5px;
				transition: all 0.3s ease;
				backdrop-filter: blur(10px);
			}
			
			.back-home-btn:hover {
				background: rgba(0,0,0,0.9);
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0,0,0,0.3);
			}
		</style>
	</head>
	<body>

		<!-- è¿”å›é¦–é¡µæŒ‰é’® -->
		<a href="/ppt/index.html" class="back-home-btn">
			ğŸ 
		</a>

        	<!-- å¯åŠ¨æ‘„åƒå¤´æŒ‰é’® -->
		<button class="start-camera-btn" id="startCameraBtn">ğŸ“·</button>
		
		<!-- æ‘„åƒå¤´çª—å£ - æˆ‘ä»¬çš„é­”æ³•é•œå­ -->
		<div class="camera-container hidden" id="cameraContainer">
			<video class="camera-video" id="cameraVideo" autoplay muted></video>
			<div class="camera-controls">
				<button class="control-btn" id="enlargeBtn" title="æ”¾å¤§/ç¼©å°">â›¶</button>
				<button class="control-btn active" id="mirrorBtn" title="å–æ¶ˆé•œåƒ">ğŸª</button>
				<button class="control-btn" id="closeBtn" title="å…³é—­æ‘„åƒå¤´">âœ•</button>
			</div>
		</div>
		
		<div class="reveal">
			<div class="slides"> 
    <section>
        <h2>æ•°æ®è¿ç§»</h2>
        <h3>ä»æ–‡ä»¶ç³»ç»Ÿåˆ°æ•°æ®åº“çš„åä¸½è½¬èº«</h3>
        <p>
            <small>è®²å¸ˆï¼šnathan</small>
        </p>
        <p><i class="fas fa-database"></i> è®©æˆ‘ä»¬çš„åšå®¢å½»åº•"ä¸“ä¸šåŒ–"ï¼</p>
    </section>

    <section>
        <section>
            <h2>ä¸ºä»€ä¹ˆè¦è¿ç§»æ•°æ®ï¼Ÿ</h2>
            <p>å‘Šåˆ«"åŸå§‹æ—¶ä»£"ï¼Œæ‹¥æŠ±ç°ä»£åŒ– ğŸš€</p>
        </section>
        
        <section>
            <h3>æ–‡ä»¶å­˜å‚¨çš„é—®é¢˜</h3>
            <p>ç°åœ¨çš„åšå®¢å°±åƒ"æ‰‹å·¥ä½œåŠ" ğŸ”¨</p>
            <ul>
                <li class="fragment">æ–‡ç« éƒ½å†™åœ¨JSONæ–‡ä»¶é‡Œ</li>
                <li class="fragment">æƒ³æ”¹å†…å®¹è¦ä¿®æ”¹ä»£ç </li>
                <li class="fragment">æ•°æ®åˆ†æ•£ï¼Œéš¾ä»¥ç®¡ç†</li>
                <li class="fragment">æ— æ³•å®ç°åŠ¨æ€åŠŸèƒ½</li>
                <li class="fragment">æ‰©å±•æ€§å¾ˆå·®</li>
            </ul>
        </section>

        <section>
            <h3>æ•°æ®åº“å­˜å‚¨çš„ä¼˜åŠ¿</h3>
            <p>å‡çº§åˆ°"ç°ä»£åŒ–å·¥å‚" ğŸ­</p>
            <ul>
                <li class="fragment"><i class="fas fa-edit"></i> <strong>åŠ¨æ€ç®¡ç†</strong> - éšæ—¶å¢åˆ æ”¹æŸ¥</li>
                <li class="fragment"><i class="fas fa-search"></i> <strong>å¿«é€ŸæŸ¥è¯¢</strong> - å¤æ‚æ¡ä»¶æœç´¢</li>
                <li class="fragment"><i class="fas fa-sort"></i> <strong>çµæ´»æ’åº</strong> - æŒ‰æ—¶é—´ã€çƒ­åº¦ç­‰æ’åº</li>
                <li class="fragment"><i class="fas fa-users"></i> <strong>å¤šç”¨æˆ·æ”¯æŒ</strong> - å¹¶å‘æ“ä½œæ— å‹åŠ›</li>
                <li class="fragment"><i class="fas fa-shield-alt"></i> <strong>æ•°æ®å®‰å…¨</strong> - äº‹åŠ¡ä¿è¯ä¸€è‡´æ€§</li>
            </ul>
        </section>
    </section>

    <section>
        <section>
            <h2>è¿ç§»ç­–ç•¥</h2>
            <p>åˆ¶å®šæˆ‘ä»¬çš„"æ¬å®¶è®¡åˆ’" ğŸ“¦</p>
        </section>
        
        <section>
            <h3>è¿ç§»æ­¥éª¤</h3>
            <p>å°±åƒæ¬å®¶ä¸€æ ·ï¼Œè¦æœ‰æ¡ä¸ç´Š</p>
            <ol class="text-left">
                <li class="fragment"><strong>æ•°æ®å¤‡ä»½</strong> - å…ˆæŠŠåŸæ¥çš„æ•°æ®ä¿å­˜å¥½</li>
                <li class="fragment"><strong>æ•°æ®æ¸…ç†</strong> - æ•´ç†å’Œæ ‡å‡†åŒ–æ•°æ®æ ¼å¼</li>
                <li class="fragment"><strong>æ‰¹é‡å¯¼å…¥</strong> - é€šè¿‡ç®¡ç†åå°æ‰¹é‡æ·»åŠ </li>
                <li class="fragment"><strong>å‰ç«¯æ”¹é€ </strong> - ä¿®æ”¹æ•°æ®è·å–æ–¹å¼</li>
                <li class="fragment"><strong>æµ‹è¯•éªŒè¯</strong> - ç¡®ä¿åŠŸèƒ½æ­£å¸¸</li>
                <li class="fragment"><strong>ä¸Šçº¿åˆ‡æ¢</strong> - æ­£å¼å¯ç”¨æ–°ç³»ç»Ÿ</li>
            </ol>
        </section>
    </section>

    <section>
        <section>
            <h2>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ç°æœ‰æ•°æ®</h2>
            <p>æ•´ç†æˆ‘ä»¬çš„"æ—§å®¶å½“" ğŸ“‚</p>
        </section>
        
        <section>
            <h3>æŸ¥çœ‹ç°æœ‰æ•°æ®ç»“æ„</h3>
            <pre><code class="json" data-trim>
// data/posts.json (ç¤ºä¾‹)
[
  {
    "id": 1,
    "title": "æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢",
    "content": "è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å†™åšå®¢...",
    "author": "å¼ ä¸‰",
    "createTime": "2024-01-01",
    "tags": ["ç”Ÿæ´»", "éšæƒ³"]
  },
  {
    "id": 2,
    "title": "å­¦ä¹ å‰ç«¯å¼€å‘",
    "content": "ä»Šå¤©å­¦ä¹ äº†Vue.js...",
    "author": "æå››", 
    "createTime": "2024-01-05",
    "tags": ["æŠ€æœ¯", "å‰ç«¯"]
  }
]
            </code></pre>
            <p class="fragment"><small>è¿™äº›æ•°æ®éœ€è¦"æ¬è¿›"æ•°æ®åº“</small></p>
        </section>

        <section>
            <h3>æ•°æ®æ¸…ç†å’Œè½¬æ¢</h3>
            <pre><code class="javascript" data-trim>
// utils/dataTransform.js
export function transformPostData(fileData) {
  return fileData.map(post => ({
    title: post.title.trim(),
    content: post.content.trim(),
    author: post.author || 'æœªçŸ¥ä½œè€…',
    createdAt: new Date(post.createTime),
    status: 'published',
    tags: Array.isArray(post.tags) ? post.tags.join(',') : '',
    // æ·»åŠ ç¼ºå¤±çš„å­—æ®µ
    slug: generateSlug(post.title),
    excerpt: generateExcerpt(post.content),
    viewCount: 0
  }))
}

function generateSlug(title) {
  return title.toLowerCase()
    .replace(/[^a-z0-9ä¸€-é¾¥]/g, '-')
    .replace(/-+/g, '-')
}

function generateExcerpt(content, length = 150) {
  return content.substring(0, length) + '...'
}
            </code></pre>
        </section>
    </section>

    <section>
        <section>
            <h2>ç¬¬äºŒæ­¥ï¼šæ‰¹é‡å¯¼å…¥æ•°æ®</h2>
            <p>é€šè¿‡ç®¡ç†åå°"æ¬å®¶" ğŸšš</p>
        </section>
        
        <section>
            <h3>åˆ›å»ºæ•°æ®å¯¼å…¥é¡µé¢</h3>
            <pre><code class="vue" data-trim>
&lt;!-- pages/admin/import.vue --&gt;
&lt;template&gt;
  &lt;div class="max-w-4xl mx-auto p-6"&gt;
    &lt;h1 class="text-3xl font-bold mb-8"&gt;æ•°æ®å¯¼å…¥&lt;/h1&gt;
    
    &lt;div class="bg-yellow-50 border border-yellow-200 rounded p-4 mb-6"&gt;
      &lt;h3 class="font-bold text-yellow-800"&gt;âš ï¸ æ³¨æ„&lt;/h3&gt;
      &lt;p class="text-yellow-700"&gt;æ­¤æ“ä½œå°†å¯¼å…¥æ‰€æœ‰å†å²æ–‡ç« åˆ°æ•°æ®åº“ï¼Œè¯·ç¡®ä¿æ•°æ®å¤‡ä»½å®Œæˆ&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;div class="space-y-4"&gt;
      &lt;button 
        @click="importPosts"
        :disabled="importing"
        class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 disabled:opacity-50"
      &gt;
        {{ importing ? 'å¯¼å…¥ä¸­...' : 'å¼€å§‹å¯¼å…¥æ–‡ç« ' }}
      &lt;/button&gt;
      
      &lt;div v-if="importResult" class="mt-4 p-4 rounded-lg"
           :class="importResult.success ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'"&gt;
        {{ importResult.message }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
            </code></pre>
        </section>

        <section>
            <h3>å®ç°å¯¼å…¥é€»è¾‘</h3>
            <pre><code class="javascript" data-trim>
// pages/admin/import.vue çš„ script éƒ¨åˆ†
&lt;script setup&gt;
const importing = ref(false)
const importResult = ref(null)

const importPosts = async () =&gt; {
  importing.value = true
  importResult.value = null
  
  try {
    const response = await $fetch('/api/admin/import-posts', {
      method: 'POST'
    })
    
    importResult.value = {
      success: true,
      message: `æˆåŠŸå¯¼å…¥ ${response.count} ç¯‡æ–‡ç« ï¼`
    }
    
  } catch (error) {
    importResult.value = {
      success: false,
      message: 'å¯¼å…¥å¤±è´¥ï¼š' + error.message
    }
  } finally {
    importing.value = false
  }
}
&lt;/script&gt;
            </code></pre>
        </section>

        <section>
            <h3>åˆ›å»ºå¯¼å…¥æ¥å£</h3>
            <pre><code class="javascript" data-trim>
// server/api/admin/import-posts.post.js
import fs from 'fs'
import path from 'path'
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

export default defineEventHandler(async (event) =&gt; {
  try {
    // éªŒè¯ç®¡ç†å‘˜æƒé™
    const user = await getCurrentUser(event)
    if (!user || user.role !== 'admin') {
      throw createError({
        statusCode: 403,
        statusMessage: 'éœ€è¦ç®¡ç†å‘˜æƒé™'
      })
    }
    
    // è¯»å–JSONæ–‡ä»¶
    const dataPath = path.join(process.cwd(), 'data/posts.json')
    const fileData = JSON.parse(fs.readFileSync(dataPath, 'utf8'))
    
    // è½¬æ¢æ•°æ®æ ¼å¼
    const transformedData = transformPostData(fileData)
    
    // æ‰¹é‡æ’å…¥æ•°æ®åº“
    const results = await prisma.post.createMany({
      data: transformedData,
      skipDuplicates: true // è·³è¿‡é‡å¤æ•°æ®
    })
    
    return {
      success: true,
      count: results.count,
      message: `æˆåŠŸå¯¼å…¥ ${results.count} ç¯‡æ–‡ç« `
    }
    
  } catch (error) {
    throw createError({
      statusCode: 500,
      statusMessage: 'å¯¼å…¥å¤±è´¥ï¼š' + error.message
    })
  }
})
            </code></pre>
        </section>
    </section>

    <section>
        <section>
            <h2>ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹å‰ç«¯é¡µé¢</h2>
            <p>è®©é¡µé¢ä»æ•°æ®åº“"å–è´§" ğŸ›’</p>
        </section>
        
        <section>
            <h3>ä¿®æ”¹é¦–é¡µæ–‡ç« åˆ—è¡¨</h3>
            <pre><code class="vue" data-trim>
&lt;!-- pages/index.vue --&gt;
&lt;script setup&gt;
// âŒ æ—§æ–¹å¼ï¼šä»æ–‡ä»¶è¯»å–
// import postsData from '~/data/posts.json'

// âœ… æ–°æ–¹å¼ï¼šä»æ•°æ®åº“è·å–
const { data: response } = await useFetch('/api/posts', {
  query: {
    limit: 6,
    status: 'published'
  }
})

const posts = computed(() =&gt; response.value?.posts || [])
&lt;/script&gt;

&lt;template&gt;
  &lt;div class="container mx-auto px-4 py-8"&gt;
    &lt;h1 class="text-4xl font-bold text-center mb-8"&gt;æœ€æ–°æ–‡ç« &lt;/h1&gt;
    
    &lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"&gt;
      &lt;article 
        v-for="post in posts" 
        :key="post.id"
        class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
      &gt;
        &lt;div class="p-6"&gt;
          &lt;h2 class="text-xl font-bold mb-2"&gt;
            &lt;NuxtLink :to="`/posts/${post.id}`" class="hover:text-blue-600"&gt;
              {{ post.title }}
            &lt;/NuxtLink&gt;
          &lt;/h2&gt;
          
          &lt;p class="text-gray-600 mb-4"&gt;
            {{ post.excerpt || post.content.substring(0, 150) + '...' }}
          &lt;/p&gt;
          
          &lt;div class="flex justify-between items-center text-sm text-gray-500"&gt;
            &lt;span&gt;ä½œè€…ï¼š{{ post.author?.name || post.author }}&lt;/span&gt;
            &lt;span&gt;{{ formatDate(post.createdAt) }}&lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/article&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
            </code></pre>
        </section>

        <section>
            <h3>ä¿®æ”¹æ–‡ç« è¯¦æƒ…é¡µ</h3>
            <pre><code class="vue" data-trim>
&lt;!-- pages/posts/[id].vue --&gt;
&lt;script setup&gt;
const route = useRoute()
const postId = route.params.id

// âŒ æ—§æ–¹å¼ï¼šä»æ–‡ä»¶æŸ¥æ‰¾
// const post = postsData.find(p =&gt; p.id === parseInt(postId))

// âœ… æ–°æ–¹å¼ï¼šä»æ•°æ®åº“è·å–
const { data: post } = await useFetch(`/api/posts/${postId}`)

if (!post.value) {
  throw createError({
    statusCode: 404,
    statusMessage: 'æ–‡ç« ä¸å­˜åœ¨'
  })
}

// å¢åŠ æµè§ˆé‡
await $fetch(`/api/posts/${postId}/view`, { method: 'POST' })
&lt;/script&gt;

&lt;template&gt;
  &lt;article class="max-w-4xl mx-auto px-4 py-8"&gt;
    &lt;header class="mb-8"&gt;
      &lt;h1 class="text-4xl font-bold mb-4"&gt;{{ post.title }}&lt;/h1&gt;
      
      &lt;div class="flex items-center justify-between text-gray-600 border-b pb-4"&gt;
        &lt;div class="flex items-center space-x-4"&gt;
          &lt;span&gt;ä½œè€…ï¼š{{ post.author?.name || post.author }}&lt;/span&gt;
          &lt;span&gt;å‘å¸ƒæ—¶é—´ï¼š{{ formatDate(post.createdAt) }}&lt;/span&gt;
        &lt;/div&gt;
        &lt;span&gt;æµè§ˆé‡ï¼š{{ post.viewCount }}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/header&gt;
    
    &lt;div class="prose prose-lg max-w-none"&gt;
      &lt;div v-html="formatContent(post.content)"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;footer class="mt-8 pt-4 border-t"&gt;
      &lt;div v-if="post.tags" class="flex flex-wrap gap-2"&gt;
        &lt;span 
          v-for="tag in post.tags.split(',')" 
          :key="tag"
          class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm"
        &gt;
          #{{ tag.trim() }}
        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/footer&gt;
  &lt;/article&gt;
&lt;/template&gt;
            </code></pre>
        </section>
    </section>

    <section>
        <section>
            <h2>ç¬¬å››æ­¥ï¼šå®Œå–„åŠŸèƒ½</h2>
            <p>æ·»åŠ ç°ä»£åŒ–åšå®¢å¿…å¤‡åŠŸèƒ½ âœ¨</p>
        </section>
        
        <section>
            <h3>æ·»åŠ æµè§ˆé‡ç»Ÿè®¡</h3>
            <pre><code class="javascript" data-trim>
// server/api/posts/[id]/view.post.js
export default defineEventHandler(async (event) =&gt; {
  try {
    const postId = parseInt(getRouterParam(event, 'id'))
    
    // æ›´æ–°æµè§ˆé‡
    await prisma.post.update({
      where: { id: postId },
      data: {
        viewCount: {
          increment: 1
        }
      }
    })
    
    return { success: true }
    
  } catch (error) {
    // é™é»˜å¤„ç†é”™è¯¯ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
    console.error('æ›´æ–°æµè§ˆé‡å¤±è´¥:', error)
    return { success: false }
  }
})
            </code></pre>
        </section>

        <section>
            <h3>æ·»åŠ æœç´¢åŠŸèƒ½</h3>
            <pre><code class="javascript" data-trim>
// server/api/posts/search.get.js
export default defineEventHandler(async (event) =&gt; {
  try {
    const query = getQuery(event)
    const keyword = query.q?.trim()
    
    if (!keyword) {
      return { posts: [], total: 0 }
    }
    
    const posts = await prisma.post.findMany({
      where: {
        AND: [
          { status: 'published' },
          {
            OR: [
              { title: { contains: keyword } },
              { content: { contains: keyword } },
              { tags: { contains: keyword } }
            ]
          }
        ]
      },
      orderBy: { createdAt: 'desc' },
      include: {
        author: {
          select: { name: true, avatar: true }
        }
      }
    })
    
    return {
      posts,
      total: posts.length,
      keyword
    }
    
  } catch (error) {
    throw createError({
      statusCode: 500,
      statusMessage: 'æœç´¢å¤±è´¥'
    })
  }
})
            </code></pre>
        </section>

        <section>
            <h3>æ·»åŠ åˆ†ç±»å’Œæ ‡ç­¾</h3>
            <pre><code class="javascript" data-trim>
// server/api/posts/categories.get.js
export default defineEventHandler(async (event) =&gt; {
  try {
    // è·å–æ‰€æœ‰æ ‡ç­¾å¹¶ç»Ÿè®¡ä½¿ç”¨æ¬¡æ•°
    const posts = await prisma.post.findMany({
      where: { status: 'published' },
      select: { tags: true }
    })
    
    const tagCount = {}
    
    posts.forEach(post =&gt; {
      if (post.tags) {
        post.tags.split(',').forEach(tag =&gt; {
          const trimmedTag = tag.trim()
          if (trimmedTag) {
            tagCount[trimmedTag] = (tagCount[trimmedTag] || 0) + 1
          }
        })
      }
    })
    
    // æŒ‰ä½¿ç”¨æ¬¡æ•°æ’åº
    const sortedTags = Object.entries(tagCount)
      .sort(([,a], [,b]) =&gt; b - a)
      .map(([tag, count]) =&gt; ({ tag, count }))
    
    return { tags: sortedTags }
    
  } catch (error) {
    throw createError({
      statusCode: 500,
      statusMessage: 'è·å–æ ‡ç­¾å¤±è´¥'
    })
  }
})
            </code></pre>
        </section>
    </section>

    <section>
        <section>
            <h2>å®Œæ•´çš„åšå®¢ç³»ç»Ÿ</h2>
            <p>æˆ‘ä»¬çš„"ä½œå“"å®Œæˆäº†ï¼ ğŸŠ</p>
        </section>
        
        <section>
            <h3>ç³»ç»Ÿæ¶æ„å›¾</h3>
            <div class="text-left">
                <h4>ğŸ¨ å‰ç«¯å±‚ (Nuxt.js)</h4>
                <ul class="text-sm mb-4">
                    <li>â€¢ é¦–é¡µ - æ–‡ç« åˆ—è¡¨å±•ç¤º</li>
                    <li>â€¢ è¯¦æƒ…é¡µ - æ–‡ç« å†…å®¹é˜…è¯»</li>
                    <li>â€¢ ç®¡ç†åå° - å†…å®¹ç®¡ç†</li>
                    <li>â€¢ æœç´¢é¡µ - å†…å®¹æœç´¢</li>
                </ul>
                
                <h4>ğŸ”§ åç«¯å±‚ (API Routes)</h4>
                <ul class="text-sm mb-4">
                    <li>â€¢ æ–‡ç« CRUD - å¢åˆ æ”¹æŸ¥</li>
                    <li>â€¢ ç”¨æˆ·è®¤è¯ - ç™»å½•æˆæƒ</li>
                    <li>â€¢ æœç´¢æ¥å£ - å…¨æ–‡æœç´¢</li>
                    <li>â€¢ ç»Ÿè®¡æ¥å£ - æ•°æ®åˆ†æ</li>
                </ul>
                
                <h4>ğŸ’¾ æ•°æ®å±‚ (Database)</h4>
                <ul class="text-sm">
                    <li>â€¢ æ–‡ç« è¡¨ - å­˜å‚¨æ–‡ç« å†…å®¹</li>
                    <li>â€¢ ç”¨æˆ·è¡¨ - å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</li>
                    <li>â€¢ å…³ç³»ç»´æŠ¤ - æ•°æ®ä¸€è‡´æ€§</li>
                </ul>
            </div>
        </section>

        <section>
            <h3>åŠŸèƒ½ç‰¹è‰²</h3>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div>
                    <h4 class="font-bold mb-2">ğŸ‘¤ ç”¨æˆ·åŠŸèƒ½</h4>
                    <ul>
                        <li>â€¢ æµè§ˆæ–‡ç« åˆ—è¡¨</li>
                        <li>â€¢ é˜…è¯»æ–‡ç« è¯¦æƒ…</li>
                        <li>â€¢ æœç´¢æ–‡ç« å†…å®¹</li>
                        <li>â€¢ æŒ‰æ ‡ç­¾åˆ†ç±»</li>
                        <li>â€¢ å“åº”å¼è®¾è®¡</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-2">ğŸ‘¨â€ğŸ’¼ ç®¡ç†åŠŸèƒ½</h4>
                    <ul>
                        <li>â€¢ å‘å¸ƒæ–°æ–‡ç« </li>
                        <li>â€¢ ç¼–è¾‘å·²æœ‰æ–‡ç« </li>
                        <li>â€¢ æ‰¹é‡æ•°æ®å¯¼å…¥</li>
                        <li>â€¢ æƒé™æ§åˆ¶</li>
                        <li>â€¢ æ•°æ®ç»Ÿè®¡</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h3>æŠ€æœ¯æ ˆæ€»ç»“</h3>
            <div class="grid grid-cols-3 gap-4 text-sm">
                <div class="bg-blue-50 p-4 rounded">
                    <h4 class="font-bold text-blue-800 mb-2">å‰ç«¯æŠ€æœ¯</h4>
                    <ul class="text-blue-700">
                        <li>â€¢ Nuxt.js 3</li>
                        <li>â€¢ Vue.js 3</li>
                        <li>â€¢ Tailwind CSS</li>
                        <li>â€¢ TypeScript</li>
                    </ul>
                </div>
                <div class="bg-green-50 p-4 rounded">
                    <h4 class="font-bold text-green-800 mb-2">åç«¯æŠ€æœ¯</h4>
                    <ul class="text-green-700">
                        <li>â€¢ Node.js</li>
                        <li>â€¢ Nitro Engine</li>
                        <li>â€¢ Prisma ORM</li>
                        <li>â€¢ SQLite</li>
                    </ul>
                </div>
                <div class="bg-purple-50 p-4 rounded">
                    <h4 class="font-bold text-purple-800 mb-2">å…¶ä»–å·¥å…·</h4>
                    <ul class="text-purple-700">
                        <li>â€¢ JWT è®¤è¯</li>
                        <li>â€¢ File Upload</li>
                        <li>â€¢ SEO ä¼˜åŒ–</li>
                        <li>â€¢ PWA æ”¯æŒ</li>
                    </ul>
                </div>
            </div>
        </section>
    </section>

    <section>
        <h2>ğŸ‰ æ­å–œå®Œæˆï¼</h2>
        <p class="text-xl mb-6">ä½ å·²ç»å®Œæˆäº†ä¸€ä¸ª<strong>å®Œæ•´çš„å…¨æ ˆåšå®¢ç³»ç»Ÿ</strong>ï¼</p>
        
        <div class="text-left">
            <h3 class="mb-4">âœ… ä½ å­¦ä¼šäº†ä»€ä¹ˆï¼š</h3>
            <ul class="space-y-2">
                <li><i class="fas fa-check text-green-500"></i> å‰ç«¯é¡µé¢å¼€å‘å’Œç»„ä»¶åŒ–</li>
                <li><i class="fas fa-check text-green-500"></i> åç«¯APIè®¾è®¡å’Œå¼€å‘</li>
                <li><i class="fas fa-check text-green-500"></i> æ•°æ®åº“è®¾è®¡å’Œæ“ä½œ</li>
                <li><i class="fas fa-check text-green-500"></i> ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†</li>
                <li><i class="fas fa-check text-green-500"></i> æ•°æ®è¿ç§»å’Œç³»ç»Ÿæ•´åˆ</li>
                <li><i class="fas fa-check text-green-500"></i> å…¨æ ˆé¡¹ç›®çš„å®Œæ•´å¼€å‘æµç¨‹</li>
            </ul>
        </div>
        
        <p class="mt-6 text-lg">
            <strong>ä¸‹ä¸€æ­¥ï¼š</strong>å¯ä»¥ç»§ç»­æ·»åŠ è¯„è®ºã€ç‚¹èµã€åˆ†äº«ç­‰é«˜çº§åŠŸèƒ½ï¼ ğŸš€
        </p>
    </section>
    			</div>
		</div>

		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆä¾èµ–åº“ - GSAPåŠ¨ç”»å¼•æ“ -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
		
		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆJavaScriptåº“ - é›¶ä»£ç é­”æ³•å±æ€§ç³»ç»Ÿ -->
		<script src="../effect/explose/explosion-effects.js"></script>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
		
			// æ‘„åƒå¤´ç›¸å…³çš„é­”æ³•å‡½æ•°ä»¬
			let cameraStream = null; // å­˜å‚¨æ‘„åƒå¤´æµï¼Œå°±åƒæ˜¯æˆ‘ä»¬çš„è§†é¢‘ç®¡é“
			let isEnlarged = false; // è®°å½•æ˜¯å¦å·²ç»æ”¾å¤§
			let isMirrored = true; // è®°å½•æ˜¯å¦é•œåƒï¼Œé»˜è®¤å¼€å¯
			
			// å¯åŠ¨æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒæ‰“å¼€ä¸€æ‰‡çª—æˆ·
			async function startCamera() {
				try {
					// è¯·æ±‚è®¿é—®æ‘„åƒå¤´ - ç¤¼è²Œåœ°æ•²é—¨
					const stream = await navigator.mediaDevices.getUserMedia({
						video: {
							width: { ideal: 1280 },
							height: { ideal: 720 }
						},
						audio: false // æˆ‘ä»¬åªè¦è§†é¢‘ï¼Œä¸è¦å£°éŸ³
					});
					
					cameraStream = stream;
					const video = document.getElementById('cameraVideo');
					video.srcObject = stream;
					
					// æ˜¾ç¤ºæ‘„åƒå¤´çª—å£ï¼Œéšè—å¯åŠ¨æŒ‰é’®
					document.getElementById('cameraContainer').classList.remove('hidden');
					document.getElementById('startCameraBtn').classList.add('hidden');
					
					console.log('æ‘„åƒå¤´å¯åŠ¨æˆåŠŸï¼é»˜è®¤é•œåƒæ¨¡å¼ï¼Œå°±åƒé­”æ³•ä¸€æ ·ï½');
				} catch (error) {
					console.error('å“å‘€ï¼Œæ‘„åƒå¤´å¯åŠ¨å¤±è´¥äº†ï¼š', error);
					alert('æŠ±æ­‰ï¼Œæ— æ³•è®¿é—®æ‘„åƒå¤´ã€‚å¯èƒ½éœ€è¦æ‚¨å…è®¸ç½‘ç«™ä½¿ç”¨æ‘„åƒå¤´æƒé™å“¦ï¼');
				}
			}
			
			// å…³é—­æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒå…³é—­çª—æˆ·
			function stopCamera() {
				if (cameraStream) {
					// åœæ­¢æ‰€æœ‰çš„è§†é¢‘è½¨é“
					cameraStream.getTracks().forEach(track => track.stop());
					cameraStream = null;
				}
				
				// éšè—æ‘„åƒå¤´çª—å£ï¼Œæ˜¾ç¤ºå¯åŠ¨æŒ‰é’®
				document.getElementById('cameraContainer').classList.add('hidden');
				document.getElementById('startCameraBtn').classList.remove('hidden');
				
				// é‡ç½®æ‰€æœ‰çŠ¶æ€
				isEnlarged = false;
				isMirrored = true; // é‡ç½®ä¸ºé»˜è®¤é•œåƒçŠ¶æ€
				document.getElementById('cameraContainer').classList.remove('enlarged');
				document.getElementById('cameraVideo').classList.remove('no-mirror');
				document.getElementById('mirrorBtn').classList.add('active');
				document.getElementById('mirrorBtn').title = 'å–æ¶ˆé•œåƒ';
				
				console.log('æ‘„åƒå¤´å·²å…³é—­ï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ï¼');
			}
			
			// åˆ‡æ¢æ”¾å¤§/ç¼©å°çš„å‡½æ•° - å°±åƒæ˜¯å˜ç„¦é•œå¤´
			function toggleEnlarge() {
				const container = document.getElementById('cameraContainer');
				isEnlarged = !isEnlarged;
				
				if (isEnlarged) {
					container.classList.add('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'ç¼©å°';
				} else {
					container.classList.remove('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'æ”¾å¤§';
				}
			}
			
			// åˆ‡æ¢é•œåƒæ•ˆæœçš„å‡½æ•° - å°±åƒæ˜¯ç¿»è½¬é•œå­
			function toggleMirror() {
				const video = document.getElementById('cameraVideo');
				const mirrorBtn = document.getElementById('mirrorBtn');
				isMirrored = !isMirrored;
				
				if (isMirrored) {
					video.classList.remove('no-mirror');
					mirrorBtn.classList.add('active');
					mirrorBtn.title = 'å–æ¶ˆé•œåƒ';
					console.log('é•œåƒæ¨¡å¼å¼€å¯ï¼ç°åœ¨å°±åƒç…§é•œå­ä¸€æ ·è‡ªç„¶ï½');
				} else {
					video.classList.add('no-mirror');
					mirrorBtn.classList.remove('active');
					mirrorBtn.title = 'å¼€å¯é•œåƒ';
					console.log('é•œåƒæ¨¡å¼å…³é—­ï¼');
				}
			}
			
			// ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ - å°±åƒæ˜¯ç»™æŒ‰é’®è£…ä¸Šå¼€å…³
			document.addEventListener('DOMContentLoaded', function() {
				// å¯åŠ¨æ‘„åƒå¤´æŒ‰é’®
				document.getElementById('startCameraBtn').addEventListener('click', startCamera);
				
				// å…³é—­æŒ‰é’®
				document.getElementById('closeBtn').addEventListener('click', stopCamera);
				
				// æ”¾å¤§/ç¼©å°æŒ‰é’®
				document.getElementById('enlargeBtn').addEventListener('click', toggleEnlarge);
				
				// é•œåƒæŒ‰é’®
				document.getElementById('mirrorBtn').addEventListener('click', toggleMirror);
			});
			
			// é¡µé¢å…³é—­æ—¶æ¸…ç†æ‘„åƒå¤´èµ„æº - å°±åƒæ˜¯æ•´ç†æˆ¿é—´
			window.addEventListener('beforeunload', function() {
				if (cameraStream) {
					cameraStream.getTracks().forEach(track => track.stop());
				}
			});
			
			// åˆå§‹åŒ–reveal.js
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
			
			
		</script>
	</body>
</html> 