			</div>
		</div>

		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆä¾èµ–åº“ - GSAPåŠ¨ç”»å¼•æ“ -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
		
		<!-- ğŸ”¥ çˆ†ç‚¸ç‰¹æ•ˆJavaScriptåº“ - é›¶ä»£ç é­”æ³•å±æ€§ç³»ç»Ÿ -->
		<script src="../effect/explose/explosion-effects.js"></script>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
		
			// æ‘„åƒå¤´ç›¸å…³çš„é­”æ³•å‡½æ•°ä»¬
			let cameraStream = null; // å­˜å‚¨æ‘„åƒå¤´æµï¼Œå°±åƒæ˜¯æˆ‘ä»¬çš„è§†é¢‘ç®¡é“
			let isEnlarged = false; // è®°å½•æ˜¯å¦å·²ç»æ”¾å¤§
			let isMirrored = true; // è®°å½•æ˜¯å¦é•œåƒï¼Œé»˜è®¤å¼€å¯
			
			// å¯åŠ¨æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒæ‰“å¼€ä¸€æ‰‡çª—æˆ·
			async function startCamera() {
				try {
					// è¯·æ±‚è®¿é—®æ‘„åƒå¤´ - ç¤¼è²Œåœ°æ•²é—¨
					const stream = await navigator.mediaDevices.getUserMedia({
						video: {
							width: { ideal: 1280 },
							height: { ideal: 720 }
						},
						audio: false // æˆ‘ä»¬åªè¦è§†é¢‘ï¼Œä¸è¦å£°éŸ³
					});
					
					cameraStream = stream;
					const video = document.getElementById('cameraVideo');
					video.srcObject = stream;
					
					// æ˜¾ç¤ºæ‘„åƒå¤´çª—å£ï¼Œéšè—å¯åŠ¨æŒ‰é’®
					document.getElementById('cameraContainer').classList.remove('hidden');
					document.getElementById('startCameraBtn').classList.add('hidden');
					
					console.log('æ‘„åƒå¤´å¯åŠ¨æˆåŠŸï¼é»˜è®¤é•œåƒæ¨¡å¼ï¼Œå°±åƒé­”æ³•ä¸€æ ·ï½');
				} catch (error) {
					console.error('å“å‘€ï¼Œæ‘„åƒå¤´å¯åŠ¨å¤±è´¥äº†ï¼š', error);
					alert('æŠ±æ­‰ï¼Œæ— æ³•è®¿é—®æ‘„åƒå¤´ã€‚å¯èƒ½éœ€è¦æ‚¨å…è®¸ç½‘ç«™ä½¿ç”¨æ‘„åƒå¤´æƒé™å“¦ï¼');
				}
			}
			
			// å…³é—­æ‘„åƒå¤´çš„å‡½æ•° - å°±åƒå…³é—­çª—æˆ·
			function stopCamera() {
				if (cameraStream) {
					// åœæ­¢æ‰€æœ‰çš„è§†é¢‘è½¨é“
					cameraStream.getTracks().forEach(track => track.stop());
					cameraStream = null;
				}
				
				// éšè—æ‘„åƒå¤´çª—å£ï¼Œæ˜¾ç¤ºå¯åŠ¨æŒ‰é’®
				document.getElementById('cameraContainer').classList.add('hidden');
				document.getElementById('startCameraBtn').classList.remove('hidden');
				
				// é‡ç½®æ‰€æœ‰çŠ¶æ€
				isEnlarged = false;
				isMirrored = true; // é‡ç½®ä¸ºé»˜è®¤é•œåƒçŠ¶æ€
				document.getElementById('cameraContainer').classList.remove('enlarged');
				document.getElementById('cameraVideo').classList.remove('no-mirror');
				document.getElementById('mirrorBtn').classList.add('active');
				document.getElementById('mirrorBtn').title = 'å–æ¶ˆé•œåƒ';
				
				console.log('æ‘„åƒå¤´å·²å…³é—­ï¼ŒæœŸå¾…ä¸‹æ¬¡å†è§ï¼');
			}
			
			// åˆ‡æ¢æ”¾å¤§/ç¼©å°çš„å‡½æ•° - å°±åƒæ˜¯å˜ç„¦é•œå¤´
			function toggleEnlarge() {
				const container = document.getElementById('cameraContainer');
				isEnlarged = !isEnlarged;
				
				if (isEnlarged) {
					container.classList.add('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'ç¼©å°';
				} else {
					container.classList.remove('enlarged');
					document.getElementById('enlargeBtn').textContent = 'â›¶';
					document.getElementById('enlargeBtn').title = 'æ”¾å¤§';
				}
			}
			
			// åˆ‡æ¢é•œåƒæ•ˆæœçš„å‡½æ•° - å°±åƒæ˜¯ç¿»è½¬é•œå­
			function toggleMirror() {
				const video = document.getElementById('cameraVideo');
				const mirrorBtn = document.getElementById('mirrorBtn');
				isMirrored = !isMirrored;
				
				if (isMirrored) {
					video.classList.remove('no-mirror');
					mirrorBtn.classList.add('active');
					mirrorBtn.title = 'å–æ¶ˆé•œåƒ';
					console.log('é•œåƒæ¨¡å¼å¼€å¯ï¼ç°åœ¨å°±åƒç…§é•œå­ä¸€æ ·è‡ªç„¶ï½');
				} else {
					video.classList.add('no-mirror');
					mirrorBtn.classList.remove('active');
					mirrorBtn.title = 'å¼€å¯é•œåƒ';
					console.log('é•œåƒæ¨¡å¼å…³é—­ï¼');
				}
			}
			
			// ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ - å°±åƒæ˜¯ç»™æŒ‰é’®è£…ä¸Šå¼€å…³
			document.addEventListener('DOMContentLoaded', function() {
				// å¯åŠ¨æ‘„åƒå¤´æŒ‰é’®
				document.getElementById('startCameraBtn').addEventListener('click', startCamera);
				
				// å…³é—­æŒ‰é’®
				document.getElementById('closeBtn').addEventListener('click', stopCamera);
				
				// æ”¾å¤§/ç¼©å°æŒ‰é’®
				document.getElementById('enlargeBtn').addEventListener('click', toggleEnlarge);
				
				// é•œåƒæŒ‰é’®
				document.getElementById('mirrorBtn').addEventListener('click', toggleMirror);
			});
			
			// é¡µé¢å…³é—­æ—¶æ¸…ç†æ‘„åƒå¤´èµ„æº - å°±åƒæ˜¯æ•´ç†æˆ¿é—´
			window.addEventListener('beforeunload', function() {
				if (cameraStream) {
					cameraStream.getTracks().forEach(track => track.stop());
				}
			});
			
			// åˆå§‹åŒ–reveal.js
			Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
			
			
		</script>
	</body>
</html> 